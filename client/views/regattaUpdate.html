<template name="regattaUpdate">
	<div class="container dropzone" dropzone="copy string:text/x-example">
		<h2>Update Regatta</h2>
		{{#with regatta}}
		<form>				
			<fieldset>
				<div class="form-group">
					<label class="col-lg-2 control-label" for="name">name</label>
					<div class="controls col-lg-10">
						<input id="name" class="form-control" type="text" value="{{name}}"/>
					</div>
				</div>

				<div class="form-group">
					<label class="col-lg-2 control-label" for="venue">venue</label>
					<div class="controls col-lg-10">
						<select id="venueList">
							{{#each venues}}
							<option value="{{_id}}" {{selected _id ../venueId}}>{{name}}</option>
							{{/each}}
						</select>
					</div>
				</div>

				<div class="form-group">
					<label class="col-lg-2 control-label" for="startDate">start date</label>
					<div class="controls col-lg-10">
						<input id="startDate" type="text" class="form-control" value="{{prettifyDate startDate}}"/>
					</div>
				</div>

				<div class="form-group">
					<label class="col-lg-2 control-label" for="endDate">end date</label>
					<div class="controls col-lg-10">
						<input id="endDate" type="text" class="form-control" value="{{prettifyDate endDate}}"/>
					</div>
				</div>

				<div class="form-group">
					<label class="col-lg-2 control-label" for="livePrice">price</label>
					<div class="controls col-lg-10">
						<input id="livePrice" type="text" value="{{livePrice}}"/>
					</div>
				</div>

				<div class="form-group">
					<label class="col-lg-2 control-label" for="eventDate">event date</label>
					<div class="controls col-lg-10">
						<input id="eventDate" type="text" class="form-control" value="{{prettifyDate startDate}}" autofocus />
					</div>
				</div>

				<div class="form-group">
					<label class="col-lg-2 control-label" for="fileUpload">upload file</label>
					<div class="controls col-lg-10">

						<a class='btn btn-default button-sm' href='javascript:;'>
							Choose File...
							<input id="files" 
								   type="file" 
								   multiple="multiple" 
								   class="fileUpload" 
								   name="file_source" 
								   size="40"  
								   onchange='$("#upload-file-info").html($(this).val().replace(/C:\\fakepath\\/i,""));'
								   style='position:absolute;z-index:2;top:0;left:0;filter: alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent;' 
								   >
						</a>
						&nbsp;
						<span class='label label-info' id="upload-file-info"></span>
					</div>				
				</div>

				<div class="modal js-loading-bar">
					<div class="modal-dialog modal-dialog-center">
						<div class="modal-content">
							<div class="modal-body">
								<div class="progress progress-striped progress-popup">
									<div id="fileUploadProgress" 
										 class="progress-bar"  
										 role="progressbar" 
										 aria-valuenow="0" 
										 aria-valuemin="0" 
										 aria-valuemax="100" 
										 style="width: 0%">
										<span class="sr-only" 
											  id="fileUploadProgressText">0% Complete</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				{{#each racedays}}
				{{> racedayForm}}
				{{/each}}
			</fieldset>
			<br>
			<button type="submit" class="button btn btn-primary btn-sm save"><i class="icon-share-alt icon-white save"></i>Save</button>
			<span class="pull-right">
				<button class="button btn btn-default btn-sm delete"><i class="icon-remove icon-white save"></i>Delete</button>
			</span>
		</form>
		{{/with}}
	</div>
</template>
